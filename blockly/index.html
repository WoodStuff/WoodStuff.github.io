<!DOCTYPE html>

<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<title>the egg site</title>
		<script src="https://unpkg.com/blockly/blockly.min.js"></script>
		<script src="stuff/blockly_compressed.js"></script>
		<script src="stuff/blocks_compressed.js"></script>
		<script src="stuff/en.js"></script>
	</head>

	<body>
		<table>
			<tbody>
				<tr><td>
					<p id="txt">test</p>
				</td></tr>
				<tr><td id="blocklyArea">Blockly will be positioned here.</td></tr>
			</tbody>
		</table>
		<div id="blocklyDiv" style="position: absolute"></div>
		<script>
    var blocklyArea = document.getElementById('blocklyArea');
    var blocklyDiv = document.getElementById('blocklyDiv');
    var demoWorkspace = Blockly.inject(blocklyDiv,
        {media: '../stuff/media/',
         toolbox: document.getElementById('toolbox')});
    var onresize = function(e) {
      // Compute the absolute coordinates and dimensions of blocklyArea.
      var element = blocklyArea;
      var x = 0;
      var y = 0;
      do {
        x += element.offsetLeft;
        y += element.offsetTop;
        element = element.offsetParent;
      } while (element);
      // Position blocklyDiv over blocklyArea.
      blocklyDiv.style.left = x + 'px';
      blocklyDiv.style.top = y + 'px';
      blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
      blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
      Blockly.svgResize(demoWorkspace);
    };
    window.addEventListener('resize', onresize, false);
    onresize();
    Blockly.svgResize(demoWorkspace);
		</script>
		<xml id="toolbox" style="display: none">
			<block type="controls_if"></block>
			<block type="controls_repeat_ext"></block>
			<block type="logic_compare"></block>
			<block type="math_number"></block>
			<block type="math_arithmetic"></block>
			<block type="text"></block>
			<block type="text_print"></block>
		</xml>
	</body>
</html>
